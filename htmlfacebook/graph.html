<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Graph</title>
    <script>
      window.fbAsyncInit = function () {
        FB.init({
          appId: "6864167676993273",
          xfbml: true,
          version: "v18.0",
        });
      };
    </script>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  </head>
  <body>
    <div id="facebook_area" style="background: black; text-align: center">
      <div class="facebook_title" style="color: white">Facebook</div>
    </div>
    <div class="facebook_contents" align="center" style="background: gray">
      <div id="fb-root"></div>
      <script
        async
        defer
        crossorigin="anonymous"
        src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v18.0&appId=6864167676993273"
        nonce="W9stL08v"
      ></script>
    </div>
    <div id="facebook-feed"></div>
    <script>
      $(document).ready(function () {
        // 페이지 ID와 앱 액세스 토큰 설정
        var pageId = "216684361876104"; // 페이스북 페이지의 ID
        var accessToken =
          "EAAWe6ZBZCdgbEBO5MHpLtTcFU8bfGnvA1OPjnBZBCJNyBOm5ywwlbUGHE681h3UlYg84JggRdLpW5BGuKZBYVJGgclrTW0gAF1njeIViTMOffjsT9UurAuf8DlfCGFqEPRlLHCvgZCLZB1VTUAqZBgZAGfla9OelmMf16AluwfRfZCLRY5js0zh79yXZAZADEuJatZA7P8pHcCPOpmZBzntIMLdahPpdHll4a0kV35nNiswNpNZAyt1Bo6bZCEZCp7CeMZC7jcQZDZD"; // 여기에 페이스북 앱의 액세스 토큰을 입력하세요

        // Graph API 호출을 위한 엔드포인트
        var graphApiUrl = `https://graph.facebook.com/v18.0/${pageId}/feed?access_token=${accessToken}&limit=3`;

        // 최신 게시물을 가져오기 위한 GET 요청
        $.get(graphApiUrl, function (data) {
          // 가져온 데이터를 처리하고 페이지에 표시하는 로직을 추가하세요
          var feedContainer = $("#facebook-feed");

          // 예: 최신 3개 게시물을 순회하며 출력
          for (var i = 0; i < Math.min(3, data.data.length); i++) {
            var post = data.data[i];
            var postContent = $("<p>").text(post.message);
            feedContainer.append(postContent);
          }
        });
      });
    </script>
  </body>
</html>
